import{e as V,c as l,a as i,n as h,F as k,m,q as b,o,t as f,a8 as A,l as B,ae as F,p as K,a2 as L}from"./CCdDhOU6.js";const N={class:"w-full overflow-x-auto"},D={class:"min-w-full"},T={class:"bg-gray-100 dark:bg-gray-700"},$={key:0,class:"p-2 text-left w-10"},j=["checked"],q=["onClick"],z={key:0,class:"ml-1"},E={key:1},M={key:0},O=["colspan"],G=["onClick"],H=["checked","onChange"],J={key:1},P=V({__name:"Table",props:{data:{},columns:{},state:{},onStateChange:{type:Function},onSelect:{type:Function},selectedRowId:{},multiSelect:{type:Boolean},selectedRowIds:{},onSelectionChange:{type:Function}},setup(u){const s=u,g=b(()=>{const n=s.state?.columnVisibility||{};return(s.columns||[]).filter(e=>{const t=r(e);return t?n[t]!==!1:!0})});function r(n){return n.accessorKey||n.key||n.headerLabel||""}function S(n){const e=s.state?.sorting;if(!Array.isArray(e))return!1;const t=e.find(a=>a.id===n);return t?t.desc?"desc":"asc":!1}function v(n){if(!s.onStateChange)return;const e=r(n);e&&s.onStateChange(t=>{const a=Array.isArray(t.sorting)?t.sorting[0]:void 0;let c=[];return!a||a.id!==e?c=[{id:e,desc:!1}]:(a.desc===!1||a.desc===void 0)&&(c=[{id:e,desc:!0}]),{...t,sorting:c}})}function p(n,e){return e.accessorKey?n?.[e.accessorKey]:e.key?n?.[e.key]:""}function y(n,e){return typeof n.cell=="function"?n.cell({getValue:()=>p(e,n),row:{original:e}}):p(e,n)}function d(n,e){return n?.id??e}function I(n,e){const t=d(n,e);return s.multiSelect?C(n)?"is-selected cursor-pointer":"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer":s.selectedRowId!==void 0&&t===s.selectedRowId?"is-selected cursor-pointer":"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"}function x(n,e){s.onSelect?.(n,e)}function C(n){if(!s.multiSelect||!s.selectedRowIds)return!1;const e=d(n,0);return s.selectedRowIds.includes(e)}function w(n){if(!s.multiSelect||!s.onSelectionChange)return;const e=d(n,0),t=s.selectedRowIds||[],a=t.includes(e)?t.filter(c=>c!==e):[...t,e];s.onSelectionChange(a)}const _=b(()=>{if(!s.multiSelect||!s.data||s.data.length===0)return!1;const n=s.selectedRowIds||[];return s.data.every(e=>n.includes(d(e,0)))});function R(){if(!(!s.multiSelect||!s.onSelectionChange))if(s.selectedRowIds,_.value)s.onSelectionChange([]);else{const n=s.data.map((e,t)=>d(e,t));s.onSelectionChange(n)}}return(n,e)=>(o(),l("div",N,[i("table",D,[i("thead",null,[i("tr",T,[u.multiSelect?(o(),l("th",$,[i("input",{type:"checkbox",checked:_.value,onChange:R,class:"cursor-pointer"},null,40,j)])):h("",!0),(o(!0),l(k,null,m(g.value,t=>(o(),l("th",{key:r(t),class:"p-2 text-left dark:text-white"},[t.enableSorting?(o(),l("button",{key:0,class:"flex items-center space-x-1",onClick:a=>v(t)},[i("span",null,f(t.headerLabel||r(t)),1),S(r(t))?(o(),l("span",z,f(S(r(t))==="asc"?"▲":"▼"),1)):h("",!0)],8,q)):(o(),l("span",E,f(t.headerLabel||r(t)),1))]))),128))])]),i("tbody",null,[!u.data||u.data.length===0?(o(),l("tr",M,[i("td",{colspan:g.value.length+(u.multiSelect?1:0),class:"p-3 text-sm text-gray-500"}," No rows ",8,O)])):(o(!0),l(k,{key:1},m(u.data,(t,a)=>(o(),l("tr",{key:d(t,a),class:A(I(t,a)),onClick:c=>x(c,t)},[u.multiSelect?(o(),l("td",{key:0,class:"p-2",onClick:e[0]||(e[0]=B(()=>{},["stop"]))},[i("input",{type:"checkbox",checked:C(t),onChange:c=>w(t),class:"cursor-pointer"},null,40,H)])):h("",!0),(o(!0),l(k,null,m(g.value,c=>(o(),l("td",{key:r(c),class:"p-2"},[F(y(c,t))?(o(),K(L(y(c,t)),{key:0})):(o(),l("span",J,f(y(c,t)),1))]))),128))],10,G))),128))])])]))}}),U=Object.assign(P,{__name:"Table"});export{U as _};
